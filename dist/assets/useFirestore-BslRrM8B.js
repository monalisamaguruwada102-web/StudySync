import{r as s}from"./vendor-BHBgCXd7.js";const p=(n,...r)=>{const[c,a]=s.useState([]),[f,e]=s.useState(!0),[i,d]=s.useState(null),o=async()=>{e(!0);try{await n(...r,t=>{a(t),e(!1)})}catch(t){d(t),e(!1)}};return s.useEffect(()=>{const t=()=>{o()};window.addEventListener("study-sync-update",t);const u=n(...r,y=>{a(y),e(!1)});return()=>{window.removeEventListener("study-sync-update",t),typeof u=="function"&&u()}},[n,JSON.stringify(r)]),{data:c,loading:f,error:i,refresh:o}};export{p as u};
